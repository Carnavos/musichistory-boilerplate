{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","javascripts/add.js","javascripts/authentication.js","javascripts/delete.js","javascripts/load.js","javascripts/main.js","javascripts/views.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpKA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\n// ADD SONG\r\nfunction songAdd () {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\t\r\n\t\tlet newSong = {\r\n\t\t\t\"name\": $(\"#songInput\").val(),\r\n\t\t\t\"artist\": $(\"#artistInput\").val(),\r\n\t\t\t\"album\": $(\"#albumInput\").val()\r\n\t\t};\r\n\r\n\t\t// add song to Firebase\r\n\t\t$.ajax({\r\n\t\t\turl: \"https://burning-heat-2902.firebaseio.com/songs.json\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tdata: JSON.stringify(newSong)\r\n\t\t}).done(function(songData){\r\n\t\t\t// resolve statement with unused argument (will load anyways without specific song data)\r\n\t\t\tresolve(songData);\r\n\t\t});\r\n\r\n\t});\r\n\r\n}\r\n\r\nmodule.exports = songAdd;","'use strict';\r\n\r\nfunction Authenticate (callback) {\r\n\r\n\tlet $formLogin = $('#login-form');\r\n\tlet $formLost = $('#lost-form');\r\n\tlet $formRegister = $('#register-form');\r\n\tlet $divForms = $('#div-forms');\r\n\tlet $modalAnimateTime = 300;\r\n\tlet $msgAnimateTime = 150;\r\n\tlet $msgShowTime = 2000;\r\n\r\n\t$(\"form\").submit(function () {\r\n\t    switch(this.id) {\r\n\t        case \"login-form\":\r\n\t            let loginEmail = $('#login_email').val();\r\n\t            let loginPassword = $('#login_password').val();\r\n\t            if (loginEmail === \"ERROR\") {\r\n\t                msgChange($('#div-login-msg'), $('#icon-login-msg'), $('#text-login-msg'), \"error\", \"glyphicon-remove\", \"Login error\");\r\n\t            } else {\r\n\t                msgChange($('#div-login-msg'), $('#icon-login-msg'), $('#text-login-msg'), \"success\", \"glyphicon-ok\", \"Login OK\");\r\n\t                // Log in user after successful email/pw validation\r\n\t                logIn(loginEmail, loginPassword);\r\n\t            }\r\n\t            return false;\r\n\t            break;\r\n\t        case \"lost-form\":\r\n\t            let $ls_email = $('#lost_email').val();\r\n\t            if ($ls_email === \"ERROR\") {\r\n\t                msgChange($('#div-lost-msg'), $('#icon-lost-msg'), $('#text-lost-msg'), \"error\", \"glyphicon-remove\", \"Send error\");\r\n\t            } else {\r\n\t                msgChange($('#div-lost-msg'), $('#icon-lost-msg'), $('#text-lost-msg'), \"success\", \"glyphicon-ok\", \"Send OK\");\r\n\t            }\r\n\t            return false;\r\n\t            break;\r\n\t        case \"register-form\":\r\n\t            let registerUsername = $('#register_username').val();\r\n\t            let registerEmail = $('#register_email').val();\r\n\t            let registerPassword = $('#register_password').val();\r\n\t            if (registerUsername === \"ERROR\") {\r\n\t                msgChange($('#div-register-msg'), $('#icon-register-msg'), $('#text-register-msg'), \"error\", \"glyphicon-remove\", \"Register error\");\r\n\t            } else {\r\n\t                msgChange($('#div-register-msg'), $('#icon-register-msg'), $('#text-register-msg'), \"success\", \"glyphicon-ok\", \"Register OK\");\r\n\t                // User Creation after validation (will log them in afterwards)\r\n\t                userCreate(registerEmail, registerPassword);\r\n\t            }\r\n\t            return false;\r\n\t            break;\r\n\t        default:\r\n\t            return false;\r\n\t    }\r\n\t    return false;\r\n\t});\r\n\r\n\t$('#login_register_btn').click( function () { modalAnimate($formLogin, $formRegister); });\r\n\t$('#register_login_btn').click( function () { modalAnimate($formRegister, $formLogin); });\r\n\t$('#login_lost_btn').click( function () { modalAnimate($formLogin, $formLost); });\r\n\t$('#lost_login_btn').click( function () { modalAnimate($formLost, $formLogin); });\r\n\t$('#lost_register_btn').click( function () { modalAnimate($formLost, $formRegister); });\r\n\t$('#register_lost_btn').click( function () { modalAnimate($formRegister, $formLost); });\r\n\r\n\tfunction modalAnimate ($oldForm, $newForm) {\r\n\t    let $oldH = $oldForm.height();\r\n\t    let $newH = $newForm.height();\r\n\t    $divForms.css(\"height\",$oldH);\r\n\t    $oldForm.fadeToggle($modalAnimateTime, function(){\r\n\t        $divForms.animate({height: $newH}, $modalAnimateTime, function(){\r\n\t            $newForm.fadeToggle($modalAnimateTime);\r\n\t        });\r\n\t    });\r\n\t}\r\n\r\n\tfunction msgFade ($msgId, $msgText) {\r\n\t    $msgId.fadeOut($msgAnimateTime, function() {\r\n\t        $(this).text($msgText).fadeIn($msgAnimateTime);\r\n\t    });\r\n\t}\r\n\r\n\tfunction msgChange($divTag, $iconTag, $textTag, $divClass, $iconClass, $msgText) {\r\n\t    let $msgOld = $divTag.text();\r\n\t    msgFade($textTag, $msgText);\r\n\t    $divTag.addClass($divClass);\r\n\t    $iconTag.removeClass(\"glyphicon-chevron-right\");\r\n\t    $iconTag.addClass($iconClass + \" \" + $divClass);\r\n\t    setTimeout(function() {\r\n\t        msgFade($textTag, $msgOld);\r\n\t        $divTag.removeClass($divClass);\r\n\t        $iconTag.addClass(\"glyphicon-chevron-right\");\r\n\t        $iconTag.removeClass($iconClass + \" \" + $divClass);\r\n\t\t}, $msgShowTime);\r\n\t}\r\n\r\n\r\n\t// AUTHENTICATION \r\n\r\n\t// Declare variable for Firebase database\r\n\tlet myFirebase = new Firebase(\"https://burning-heat-2902.firebaseio.com/\");\r\n\r\n\r\n\tfunction userCreate (userEmail, userPassword) {\r\n\t\tconsole.log(`userCreate init`);\r\n\t\tconsole.log(`userEmail: `, userEmail);\r\n\t\tconsole.log(`userPassword: `, userPassword);\r\n\r\n\t\tmyFirebase.createUser({\r\n\t\t  email    : userEmail,\r\n\t\t  password : userPassword\r\n\t\t}, function(error, userData) {\r\n\t\t  if (error) {\r\n\t\t    console.log(\"Error creating user:\", error);\r\n\t\t  } else {\r\n\t\t    console.log(\"Successfully created user account with uid:\", userData.uid);\r\n\t\t  }\r\n\t\t});\r\n\r\n\t\t// Automatically sign user in upon account creation\r\n\t\tlogIn(userEmail, userPassword);\r\n\t}\r\n\r\n\t$(\"#signOut\").click(() => {\r\n\t\tsignOut();\r\n\t});\r\n\r\n\tfunction signOut () {\r\n\t\tmyFirebase.unauth();\r\n\t\tconsole.log(`Log Out Successful`);\r\n    $(\"#signOut\").hide();\r\n    $(\"#logIn\").show();\r\n\t}\r\n\r\n\t// Authentication event listener, always checking for authentication and will log message when user logs in/out and times out\r\n\tmyFirebase.onAuth(function(authData) {\r\n\t  if (authData) {\r\n\t    console.log(\"Authenticated with uid:\", authData.uid);\r\n\t    // callback argument passed via larger Authenticate function\r\n    \t$(\"#signOut\").show();\r\n\t    $(\"#logIn\").hide();\r\n\t    callback();\r\n\t  } else {\r\n\t    console.log(\"Client unauthenticated.\");\r\n\t    // Toggle modal when user unathenticated/no log-in\r\n\t    $(\"#login-modal\").modal();\r\n\t  }\r\n\t});\r\n\r\n\tfunction logIn (userEmail, userPassword) {\r\n\t\tmyFirebase.authWithPassword({\r\n\t\t  email    : userEmail,\r\n\t\t  password : userPassword\r\n\t\t}, function(error, authData) {\r\n\t\t  if (error) {\r\n\t\t    console.log(\"Login Failed!\", error);\r\n\t\t  } else {\r\n\t\t    console.log(\"Authenticated successfully with payload:\", authData);\r\n\t\t    // toggle modal out\r\n\t\t    $(\"#login-modal\").modal('hide');\r\n        $(\"#logIn\").hide();\r\n\t    \t// callback();\r\n\t\t  }\r\n\t\t});\r\n\t}\r\n\r\n} // End Authenticate\r\n\r\nmodule.exports = Authenticate;","'use strict';","'use strict';\r\n\r\nfunction songsLoad(callback) {\r\n\treturn new Promise ((resolve, reject) => {\r\n\t$.ajax({\r\n\t\turl: \"https://burning-heat-2902.firebaseio.com/songs/.json\"\r\n\t\t// method: \"GET\"\r\n\t}).done((dataObject) =>{\r\n\t\tconsole.log(`songsData loaded object: `, dataObject);\r\n\t\t// changing to object pass instead of array\r\n\t\tresolve(dataObject);\r\n\t});\r\n\t// alternate method to for in\r\n\t// Object.keys(songList).forEach((key) => { });\r\n\t});\r\n}\r\n\r\n\r\n// export the object with three methods inside\r\nmodule.exports = songsLoad;","'use strict';\r\n\r\n// Delete, Read, Load\r\n\r\n\r\n// import views handler module\r\nlet views = require(\"./views\");\r\nlet Add = require(\"./add\");\r\nlet Delete = require(\"./delete\");\r\nlet Authenticate = require(\"./authentication\");\r\n\r\n// jquery module\r\n// let $ = require(\"jquery\");\r\n\r\n// DOM element variables\r\n// let songInput = $(\"#songInput\");\r\n// let artistInput = $(\"#artistInput\");\r\n// let albumInput = $(\"#albumInput\");\r\nlet addButton = $(\"#addButton\");\r\n\r\n// Bring in the loader module\r\nlet loader = require('./load');\r\n\r\n// // Declare variable for Firebase database\r\n// let myFirebase = new Firebase(\"https://burning-heat-2902.firebaseio.com/\");\r\n\r\n\r\n// function userCreate (userEmail, userPassword) {\r\n// \t// let userEmail = $(\"#userEmail\").val();\r\n// \t// let userPassword = $(\"#userPassword\").val();\r\n// \tmyFirebase.createUser({\r\n// \t  email    : userEmail,\r\n// \t  password : userPassword\r\n// \t}, function(error, userData) {\r\n// \t  if (error) {\r\n// \t    console.log(\"Error creating user:\", error);\r\n// \t  } else {\r\n// \t    console.log(\"Successfully created user account with uid:\", userData.uid);\r\n// \t  }\r\n// \t});\r\n// };\r\n\r\n// // Authentication event listener, always checking for authentication and will log message when user logs in/out and times out\r\n// myFirebase.onAuth(function(authData) {\r\n//   if (authData) {\r\n//     console.log(\"Authenticated with uid:\", authData.uid);\r\n//   } else {\r\n//     console.log(\"Client unauthenticated.\")\r\n//     readLoad();\r\n//   }\r\n// });\r\n\r\n// Runs Authenticate, then loads content\r\nAuthenticate(readLoad);\r\n\r\nfunction songPopulate (id, songObject) {\r\n\r\n\tlet songContent = '';\r\n\r\n\tsongContent += `<div class=\"row\">` + // Open row\r\n\t\t\t\t\t\t\t\t\t\t`<div class=\"col-sm-3 songName\">${songObject.name}</div>` +\r\n\t\t\t\t\t\t\t\t\t\t`<div class=\"col-sm-3 songArtist\">${songObject.artist}</div>` +\r\n\t\t\t\t\t\t\t\t\t\t`<div class=\"col-sm-3 songAlbum\">${songObject.album}</div>` +\r\n\t\t\t\t\t\t\t\t\t\t`<div class=\"col-sm-1 songAlbum\">${songObject.year}</div>` +\r\n\t\t\t\t\t\t\t\t\t\t// Delete Button (uses ${song} as a data \"id\" in song deletion function)\r\n\t\t\t\t\t\t\t\t\t\t`<button id=\"${id}\" class=\"btn btn-default deleteButton col-sm-1\" type=\"button\">Delete</button>` +\r\n\t\t\t\t\t\t\t\t\t`</div>`; // Close row\r\n\r\n\t// Add to page\r\n\t$(\"#list-view\").append(songContent);\r\n\t\r\n}\r\n\r\n// currently iterates over most recent songs data object and populates to page\r\n// need to remake to only populate one at a time\r\nfunction pagePopulate(songsObject) {\r\n\tconsole.log(\"pagePopulate Run\");\r\n\tconsole.log(`songsObject: `, songsObject);\r\n\t// empty page content to default row headers before reloading database objects\r\n\t$(\"#list-view\").html(`<div class=\"row\">\r\n      <div class=\"col-sm-3\">Name</div>\r\n      <div class=\"col-sm-3\">Artist</div>\r\n      <div class=\"col-sm-3\">Album</div>\r\n      <div class=\"col-sm-3\">Year</div>\r\n    </div>`);\r\n\t// for in loop to iterate over object keys\r\n\t// using bracket notation since dot notation won't allow access to property names stored in a variable\r\n\tfor (let song in songsObject) {\r\n\t\tsongPopulate(song, songsObject[song]);\r\n\t}\r\n\r\n\t// Add events to page\r\n\taddEvents();\r\n}\r\n\r\n// function addSong\r\n\r\nfunction addEvents() {\r\n\r\n\t// DELETE SONG event handler\r\n\t$(document).on('click', '.deleteButton', function() {\r\n\t\t$(this).parent().remove(); // target parent node via this\r\n\t\tlet deleteName = $(this).siblings('.songName').html();\r\n\t\tconsole.log(\"deleteName: \", deleteName);\r\n\t\t// loader.deleteSong(deleteName);\r\n\r\n\t\t// delete from Firebase\r\n\t\tlet songKey = $(this).attr(\"id\");\r\n\t\t$.ajax({\r\n\t\t\turl: `https://burning-heat-2902.firebaseio.com/songs/${songKey}/.json`,\r\n\t\t\tmethod: \"DELETE\"\r\n\t\t}).done(() => {\r\n\t\t\tconsole.log(`Song Deleted! Time 2 Reload! `);\r\n\t\t});\r\n\t});\r\n}\r\n\r\n\r\n\r\nfunction readLoad () {\r\n\tconsole.log(`readLoad init`);\r\n\t// initial loader promise\r\n\tloader().then(\r\n\t\t// success\r\n\t\tfunction(dataObject) {\r\n\t\t\tconsole.log(`data/promise loaded`);\r\n\t\t\tpagePopulate(dataObject);\r\n\t\t},\r\n\r\n\t\t// failure\r\n\t\tfunction(dataObject) {\r\n\t\t\tconsole.log(`data failure`, dataObject);\r\n\t\t}\r\n\t);\r\n}\r\n\r\n$(\"#addButton\").click(function(){\r\n\tAdd().then(\r\n\t\t// success\r\n\t\tfunction(songObject) {\r\n\t\t\tconsole.log(`data/promise loaded: `, songObject);\r\n\t\t\t// pagePopulate(dataObject);\r\n\t\t\t// after add song to database, reGET from database and repopulate page\r\n\t\t\treadLoad();\r\n\t\t},\r\n\r\n\t\t// failure\r\n\t\tfunction(songObject) {\r\n\t\t\tconsole.log(`data failure:`, songObject);\r\n\t\t}\r\n\r\n\t);\r\n\r\n\t// clear out the add fields for another song\r\n\t$(\"#songInput\").val(``);\r\n\t$(\"#artistInput\").val(``);\r\n\t$(\"#albumInput\").val(``);\r\n\r\n});\r\n\r\n// init command, attempting authentication before page load\r\n// readLoad();\r\n\r\n\r\n","'use strict';\r\n// List View\r\nlet listLink = $(\"#link-list\");\r\nlet listView = $(\"#list-view\");\r\n\r\n$(listLink).click(function(event) {\r\n\t// using \"event\" as a parameter in the function allows you to call preventDefault()!\r\n  event.preventDefault();\r\n  $(addView).addClass(\"hidden\");\r\n\r\n  $(listView).addClass(\"visible\");\r\n  $(listView).removeClass(\"hidden\");\r\n});\r\n\r\n\r\n// Add View\r\nlet addLink = $(\"#link-add\");\r\nlet addView = $(\"#add-view\");\r\n\r\n$(addLink).click(function(event) {\r\n  event.preventDefault();\r\n  $(listView).addClass(\"hidden\");\r\n\r\n  $(addView).addClass(\"visible\");\r\n  $(addView).removeClass(\"hidden\");\r\n\r\n});\r\n\r\n// Add button switches view back to List\r\n$(\"#addButton\").click(() => {\r\n\t$(addView).addClass(\"hidden\");\r\n\t\t$(listView).addClass(\"visible\");\r\n\t\t$(listView).removeClass(\"hidden\");\r\n\t});\r\n\r\n\r\n\r\n"]}